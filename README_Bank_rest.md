# Система управления банковскими картами

## Сборка
    git clone https://github.com/winroot333/bank_rest.git
    cd bank_rest
    mvn -DskipTests=true clean package
## Запуск
Postgres в контейнере:

    docker compose up -d

Запуск приложения:

    java -jar ./target/application.jar

Swagger:

    http://localhost:8080/swagger-ui/index.html
Данные для проверки:
Админ:

    admin
    password
Пользователь с транзакциями и картами:

    user1
    password
    
## Описание:
1. [ ] Через миграцию создаются таблицы и заполняются тестовые данные.
2. [ ] Номер карты хранится в бд  в зашифрованном виде. Masked number также хранится в бд для простоты и производительности.
3. [ ] Мэппинг Dto в сущности и обратно сделан с помощью Mapstruct
4. [ ] Подключен Spring Security с jwt токенами. Для простоты refresh token реализовывать не стал.
5. [ ] Postgres поднимается в контейнере, приложение без контейнера для простоты.
6. [ ] Логгирование в файл и консоль.
7. [ ] У сущности транзакций есть enum со статусом, но используется только COMPLETED. 
8. [ ] openapi.yaml сделал просто, скачал этот файл после генерации из аннотаций swagger ui. Хотел генерировать по нему интерфейсы контроллеров и дтошки, но слишком большой файл получался.
9. [ ] Думал сделать тесты репозиториев с Testcontainers, но тут в задании не было. В реальном проекте бы сделал.